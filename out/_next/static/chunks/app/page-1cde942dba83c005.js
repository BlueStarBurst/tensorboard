(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{30900:function(t,e,i){Promise.resolve().then(i.bind(i,86370))},86370:function(t,e,i){"use strict";i.d(e,{default:function(){return J}});var n=i(59533),s=i(31229),u=i(94179);function a(t,e){for(let i=0;i<Object.keys(t).length;i++)if(t[Object.keys(t)[i]].name==e)return t[Object.keys(t)[i]];return null}let o={bot:!1,top:!1,name:"Default",description:"Default component",color:"#000000",id:-1,data:{},inputs:{},outputs:{},helpers:{},topInputs:{},priority:0,numInputs:0,numOutputs:0,transpile:function(){return""},getOutput:function(){return null},reload:function(){},getValue:function(){return null},getHelp:function(){return[]},output:"default"},l={};function r(){let{elements:t,setElements:e}=(0,s.useContext)(c);return{saveElements:function(t){localStorage.setItem("elements",JSON.stringify(t))},loadElements:function(){let t=localStorage.getItem("elements");if(t){let i=JSON.parse(t);Object.keys(i).forEach(t=>{let e=new d;e.fromJSON(i[t]),e.dragging=!1,e.lining=!1,e.component=h(l[e.component.key]),e.component.id=e.id,i[t]=e}),console.log(i),Object.keys(i).forEach(t=>{let e=i[t];e.getElements=()=>i,e.fixLines()}),e(i)}}}}function p(){let{elements:t,setElements:e,setNotebookCells:i}=(0,s.useContext)(c),{saveElements:n,loadElements:u}=r();return{updateNotebook:function(){if(0==Object.keys(t).length){i([]);return}var e={[Object.keys(t)[0]]:t[Object.keys(t)[0]].toJSON()};Object.keys(t).map((i,n)=>{e[i]=t[i].toJSON()}),console.log("UPDATING NOTEBOOK",e),n(t);let s=[];for(var u={},a=[],o=[],l=[],r=Object.values(t),p=0;p<r.length;p++){var h=r[p];s.push(h.component),u[h.component.id]=h.component}for(var p=0;p<s.length;p++){var d=s[p];0==Object.keys(d.inputs).length&&a.push(d)}a=a.sort((t,e)=>(t.priority||100)-(e.priority||100));for(var p=0;p<a.length;p++)o.push(a[p].id);for(var p=0;p<a.length;p++){var c=a[p].outputs;Object.keys(c).map((t,e)=>{var i=function t(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var n=[e.id];if(i.includes(e.id)){var s=i.lastIndexOf(e.id);if(i[s-1]==i[i.length-1])return[]}return i.push(e.id),Object.keys(e.helpers).map((s,u)=>{var a=t(e.helpers[s],i);n=n.concat(a)}),Object.keys(e.outputs).map((s,u)=>{var a=t(e.outputs[s],i);n=n.concat(a)}),n}(c[t]);o=o.concat(i)})}o=o.sort((t,e)=>(u[t].priority||100)-(u[e].priority||100));for(var g=[],p=o.length-1;p>=0;p--)g.includes(o[p])||"Connector"==u[o[p]].name||(g.push(o[p]),l.unshift(u[o[p]]));var v=[];l.map((e,i)=>{if(e&&e.transpile){let i="ERROR";try{i=e.transpile()}catch(t){console.log("ERROR",t)}let n=i.split("\n").map((t,e)=>e!=i.length-1?t+"\n":t);v.push({cell_type:"code",execution_count:1,metadata:{id:e.id,selected:t[e.id].dragging,run:!1},outputs:[],source:n})}}),i(v)}}}function h(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(e>5||null==t||"object"!=typeof t)return t;if(t instanceof Date)return(i=new Date).setTime(t.getTime()),i;if(t instanceof Array){i=[];for(var i,n=0,s=t.length;n<s;n++)i[n]=h(t[n],e+1);return i}if(t instanceof Object){for(var u in i={},t)t.hasOwnProperty(u)&&(i[u]=h(t[u],e+1));return i}throw Error("Unable to copy obj! Its type isn't supported.")}l.Numpy={...o,name:"Numpy",color:"#7f538c",id:-1,priority:2,numInputs:0,numOutputs:-1,data:{},description:"This component is used to import the numpy library for mathematical operations",transpile:function(){return"%pip install numpy\nimport numpy as np"},getOutput:function(){return null},reload:function(){},getValue:function(){return null}},l.Scipy={...o,name:"Scipy",color:"#7f538c",id:-1,priority:2,numInputs:0,numOutputs:-1,data:{},description:"This component is used to import the scipy library for mathematical operations",transpile:function(){return"%pip install scipy\nimport scipy"},getOutput:function(){return null},reload:function(){},getValue:function(){return null}},l.Matplotlib={...o,name:"Matplotlib",color:"#7f538c",id:-1,priority:2,numInputs:0,numOutputs:-1,data:{},description:"This component is used to import the matplotlib library for plotting graphs",transpile:function(){return"%pip install matplotlib\nimport matplotlib.cm as cm\nimport matplotlib.pyplot as plt\nimport io\nimport base64"},getOutput:function(){return null},reload:function(){},getValue:function(){return null}},l.Collections={...o,name:"Collections",color:"#7f538c",id:-1,priority:2,numInputs:0,numOutputs:-1,data:{},description:"This component is used to import the collections library for python data structures",transpile:function(){return"import collections"},getOutput:function(){return null},reload:function(){},getValue:function(){return null}},l.Data={...o,name:"Data",color:"#c2734a",description:"This component is used to download data from a remote URL for model training",id:-1,numInputs:0,numOutputs:-1,data:{Type:{type:"radio",options:["HuggingFace","Zip"],value:"HuggingFace",hidden:!1},URL:{type:"text",value:"",hidden:!0},RepoID:{type:"text",value:"",hidden:!1},FileName:{type:"text",value:"",hidden:!1}},transpile:function(){return"HuggingFace"==this.data.Type.value?"from huggingface_hub import hf_hub_download\nimport pandas as pd\nprint('Downloading data from https://hugingface.com/".concat(this.data.RepoID.value,"')\n").concat(this.getOutput(),' = pd.read_csv(\n	hf_hub_download(repo_id="').concat(this.data.RepoID.value,'", filename="').concat(this.data.FileName.value,'", repo_type="dataset")\n)'):"print('Downloading data from ".concat(this.data.URL.value,"')\n!wget -O dataset.zip ").concat(this.data.URL.value)},reload:function(){"HuggingFace"==this.data.Type.value?(this.data.RepoID.hidden=!1,this.data.FileName.hidden=!1,this.data.URL.hidden=!0):(this.data.RepoID.hidden=!0,this.data.FileName.hidden=!0,this.data.URL.hidden=!1)},outputs:{},inputs:{},getOutput:function(){return this.output+this.id},output:"dataset",getValue:function(){return null}},l.Normalize={...o,name:"Normalize",description:"Normalizes the input data",numInputs:1,numOutputs:-1,color:"#a3313e",data:{Range:{type:"slider",value:255,step:.01},Translate:{type:"slider",value:0,step:.01}},transpile:function(){return Object.keys(this.inputs).length>0?"".concat(this.getOutput()," = ").concat(this.inputs[Object.keys(this.inputs)[0]].getOutput()," / ").concat(this.data.Range.value," - ").concat(this.data.Translate.value):"print('Normalizing data')"},reload:function(){},outputs:{},inputs:{},getOutput:function(){return this.output+this.id},output:"norm",getValue:function(){return null}},l.Value={...o,name:"Value",description:"Create variables of different types",color:"#c42b59",numInputs:1,numOutputs:-1,data:{Type:{type:"radio",options:["Integer","String","Float","Boolean","Other"],value:"Integer",hidden:!1},Integer:{type:"slider",value:0,min:-100,max:100,step:1,hidden:!1},String:{type:"text",value:"",hidden:!0},Float:{type:"slider",value:0,min:-100,max:100,step:.01,hidden:!0},Boolean:{type:"checkbox",value:"False",hidden:!0},Other:{type:"text",value:"",readonly:!0,hidden:!0,trueValue:""}},transpile:function(){return Object.keys(this.inputs).length>0?(this.data.Type.value="Other",this.data.Integer.hidden=!0,this.data.String.hidden=!0,this.data.Float.hidden=!0,this.data.Boolean.hidden=!0,this.data.Other.hidden=!1,this.data.Other.value=this.inputs[Object.keys(this.inputs)[0]].getOutput(),this.data.Other.trueValue=this.inputs[Object.keys(this.inputs)[0]].getValue()?this.inputs[Object.keys(this.inputs)[0]].getValue():this.inputs[Object.keys(this.inputs)[0]].getOutput(),"".concat(this.getOutput()," = ").concat(this.inputs[Object.keys(this.inputs)[0]].getOutput())):"Integer"==this.data.Type.value?"".concat(this.getOutput()," = ").concat(this.data.Integer.value):"String"==this.data.Type.value?"".concat(this.getOutput(),' = "').concat(this.data.String.value,'"'):"Float"==this.data.Type.value?"".concat(this.getOutput()," = ").concat(this.data.Float.value):"Boolean"==this.data.Type.value?"".concat(this.getOutput()," = ").concat(this.data.Boolean.value):"".concat(this.getOutput()," = ").concat(this.data.Other.value)},reload:function(){"Integer"==this.data.Type.value?(this.data.Integer.hidden=!1,this.data.String.hidden=!0,this.data.Float.hidden=!0,this.data.Boolean.hidden=!0,this.data.Other.hidden=!0):"String"==this.data.Type.value?(this.data.Integer.hidden=!0,this.data.String.hidden=!1,this.data.Float.hidden=!0,this.data.Boolean.hidden=!0,this.data.Other.hidden=!0):"Float"==this.data.Type.value?(this.data.Integer.hidden=!0,this.data.String.hidden=!0,this.data.Float.hidden=!1,this.data.Boolean.hidden=!0,this.data.Other.hidden=!0):"Boolean"==this.data.Type.value?(this.data.Integer.hidden=!0,this.data.String.hidden=!0,this.data.Float.hidden=!0,this.data.Boolean.hidden=!1,this.data.Other.hidden=!0):(this.data.Integer.hidden=!0,this.data.String.hidden=!0,this.data.Float.hidden=!0,this.data.Boolean.hidden=!0,this.data.Other.hidden=!1)},outputs:{},inputs:{},getOutput:function(){return this.data.Type.value.toLowerCase()+this.id},getValue:function(){return"Integer"==this.data.Type.value?this.data.Integer.value:"String"==this.data.Type.value?this.data.String.value:"Float"==this.data.Type.value?this.data.Float.value:"Boolean"==this.data.Type.value?this.data.Boolean.value:this.data.Other.trueValue},output:"value"},l.Operator={...o,name:"Operator",description:"Create operator that can operate value(s)",color:"#2b3da1",numInputs:1,numOutputs:-1,data:{Type:{type:"radio",options:["Add","Subtract","Multiply","Divide","Modulus","Exponent","Root","Logarithm","Sine","Cosine","Tangent","Secant","Cosecant","Cotangent","Arcsine","Arccosine","Arctangent","Factorial"],value:"Integer",hidden:!1},Add:{type:"checkbox",value:"False",hidden:!0},Subtract:{type:"checkbox",value:"False",hidden:!0},Multiply:{type:"checkbox",value:"False",hidden:!0},Divide:{type:"checkbox",value:"False",hidden:!0},Modulus:{type:"checkbox",value:"False",hidden:!0},Exponent:{type:"checkbox",value:"False",hidden:!0},Root:{type:"checkbox",value:"False",hidden:!0},Logarithm:{type:"checkbox",value:"False",hidden:!0},Sine:{type:"checkbox",value:"False",hidden:!0},Cosine:{type:"checkbox",value:"False",hidden:!0},Tangent:{type:"checkbox",value:"False",hidden:!0},Secant:{type:"checkbox",value:"False",hidden:!0},Cosecant:{type:"checkbox",value:"False",hidden:!0},Cotangent:{type:"checkbox",value:"False",hidden:!0},Arcsine:{type:"checkbox",value:"False",hidden:!0},Arccosine:{type:"checkbox",value:"False",hidden:!0},Arctangent:{type:"checkbox",value:"False",hidden:!0},Factorial:{type:"checkbox",value:"False",hidden:!0}},transpile:function(){if(2==Object.keys(this.inputs).length){if("Add"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" + "+this.inputs[Object.keys(this.inputs)[1]].getOutput();if("Subtract"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" - "+this.inputs[Object.keys(this.inputs)[1]].getOutput();if("Multiply"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" * "+this.inputs[Object.keys(this.inputs)[1]].getOutput();if("Divide"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" / "+this.inputs[Object.keys(this.inputs)[1]].getOutput();if("Modulus"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" % "+this.inputs[Object.keys(this.inputs)[1]].getOutput();if("Exponent"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" ** "+this.inputs[Object.keys(this.inputs)[1]].getOutput();if("Root"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" **(1/"+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Logarithm"==this.data.Type.value)return this.getOutput()+" = math.log("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")"}if(1==Object.keys(this.inputs).length){if("Sine"==this.data.Type.value)return this.getOutput()+" = math.sin("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";if("Cosine"==this.data.Type.value)return this.getOutput()+" = math.cos("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";if("Tangent"==this.data.Type.value)return this.getOutput()+" = math.tan("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";if("Secant"==this.data.Type.value)return this.getOutput()+" = 1/(math.cos("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+"))";if("Cosecant"==this.data.Type.value)return this.getOutput()+" = 1/(math.sin("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+"))";if("Cotangent"==this.data.Type.value)return this.getOutput()+" = 1/(math.tan("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+"))";if("Arcsine"==this.data.Type.value)return this.getOutput()+" = np.arcsin("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";if("Arccosine"==this.data.Type.value)return this.getOutput()+" = np.arccos("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";if("Arctangent"==this.data.Type.value)return this.getOutput()+" = np.arctan("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";if("Factorial"==this.data.Type.value)return this.getOutput()+" = math.factorial("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")"}return""},reload:function(){},outputs:{},inputs:{},getOutput:function(){return"Operator"+this.id},getValue:function(){return null},output:"value"},l.ArrayListOperator={...o,name:"Arraylist Operator",description:"Create arraylist operator that can operate value(s)",color:"#3a4563",numInputs:1,numOutputs:-1,data:{Type:{type:"radio",options:["Append","Count","Index","Pop","Remove","Reverse"],value:"Integer",hidden:!1}},transpile:function(){if(Object.keys(this.inputs).length>1){if("Append"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+" + "+this.inputs[Object.keys(this.inputs)[0]].getOutput();if("Count"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+".count("+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Index"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+".index("+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Pop"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+".pop("+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Remove"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+".remove("+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")"}return 1==Object.keys(this.inputs).length&&"Reverse"==this.data.Type.value?this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+".reverse()":""},reload:function(){},outputs:{},inputs:{},getOutput:function(){return"ArraylistOperator"+this.id},getValue:function(){return null},output:"value"},l.LinkedListOperator={...o,name:"Linkedlist Operator",description:"Create arraylist operator that can operate value(s)",color:"#444737",numInputs:1,numOutputs:-1,data:{Type:{type:"radio",options:["Append","Insert","Pop","Remove"],value:"Integer",hidden:!1}},transpile:function(){let t=a(this.inputs,"Linked List");if(null==t)return"";if("Append"==this.data.Type.value){let e=a(this.inputs,"Value");return null==e?"":(console.log(t.getOutput()),t.getOutput()+".append("+e.getOutput()+")")}return"Insert"==this.data.Type.value?this.inputs[Object.keys(this.inputs)[0]].getOutput()+".insert("+this.inputs[Object.keys(this.inputs)[1]].getOutput()+", "+this.inputs[Object.keys(this.inputs)[2]].getOutput()+")":"Pop"==this.data.Type.value?this.inputs[Object.keys(this.inputs)[0]].getOutput()+".pop() ":"Remove"==this.data.Type.value?this.inputs[Object.keys(this.inputs)[0]].getOutput()+".remove("+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")":""},reload:function(){},outputs:{},inputs:{},getOutput:function(){var t;let e=a(this.inputs,"Linked List");return null!==(t=null==e?void 0:e.getOutput())&&void 0!==t?t:null},getValue:function(){return null},output:"value"},l.StacksOperator={...o,name:"Stacks Operator",description:"Create arraylist operator that can operate value(s)",color:"#428878",numInputs:1,numOutputs:-1,data:{Type:{type:"radio",options:["WIP"],value:"Integer",hidden:!1}},transpile:function(){return""},reload:function(){},outputs:{},inputs:{},getOutput:function(){return"StacksOperator"+this.id},getValue:function(){return null},output:"value"},l.QueueOperator={...o,name:"Queue Operator",description:"Create arraylist operator that can operate value(s)",color:"#583877",numInputs:1,numOutputs:-1,data:{Type:{type:"radio",options:["WIP"],value:"Integer",hidden:!1}},transpile:function(){return""},reload:function(){},outputs:{},inputs:{},getOutput:function(){return"QueueOperator"+this.id},getValue:function(){return null},output:"value"},l.BinaryTreeOperator={...o,name:"Binary Tree Operator",description:"Create arraylist operator that can operate value(s)",color:"#289877",numInputs:1,numOutputs:-1,data:{Type:{type:"radio",options:["WIP"],value:"Integer",hidden:!1}},transpile:function(){return""},reload:function(){},outputs:{},inputs:{},getOutput:function(){return"BinaryTreeOperator"+this.id},getValue:function(){return null},output:"value"},l.HashingOperator={...o,name:"Hashing Operator",description:"Create arraylist operator that can operate value(s)",color:"#374577",numInputs:1,numOutputs:-1,data:{Type:{type:"radio",options:["WIP"],value:"Integer",hidden:!1}},transpile:function(){return""},reload:function(){},outputs:{},inputs:{},getOutput:function(){return"HashingOperator"+this.id},getValue:function(){return null},output:"value"},l.BooleanOperator={...o,name:"Boolean Operator",description:"Create boolean operator that can operate value(s)",color:"#428737",numInputs:1,numOutputs:-1,data:{Type:{type:"radio",options:["Or","And","Not","Xor","Nand","Nor","Xnor"],value:"Integer",hidden:!1}},transpile:function(){if(Object.keys(this.inputs).length>1){if("Or"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" or "+this.inputs[Object.keys(this.inputs)[1]].getOutput();if("And"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" and "+this.inputs[Object.keys(this.inputs)[1]].getOutput();if("Not"==this.data.Type.value)return this.getOutput()+" = not("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";if("Xor"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" ^ "+this.inputs[Object.keys(this.inputs)[1]].getOutput();if("Nand"==this.data.Type.value)return this.getOutput()+" = not("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" and "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Nor"==this.data.Type.value)return this.getOutput()+" = not("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" or "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Xnor"==this.data.Type.value)return this.getOutput()+" = not("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" ^ "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")"}return""},reload:function(){},outputs:{},inputs:{},getOutput:function(){return"BooleanOperator"+this.id},getValue:function(){return null},output:"value"},l.PolynomialOperator={...o,name:"Polynomial Operator",description:"Create polynomial operator that can operate value(s)",color:"#7d6529",numInputs:1,numOutputs:-1,data:{Type:{type:"radio",options:["Polynomial","Add Polynomials","Subtract Polynomials","Multiply Polynomials","Divide Polynomials","Polynomial Fit","Value for x","Roots","Derivative","Second Derivative","Integral"],value:"Integer",hidden:!1}},transpile:function(){if(2==Object.keys(this.inputs).length){if("Value for x"==this.data.Type.value)return this.getOutput()+" = np.polyval("+this.inputs[Object.keys(this.inputs)[1]].getOutput()+", "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";if("Add Polynomials"==this.data.Type.value)return this.getOutput()+" = np.polyadd("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Subtract Polynomials"==this.data.Type.value)return this.getOutput()+" = np.polysub("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Multiply Polynomials"==this.data.Type.value)return this.getOutput()+" = np.polymul("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Divide Polynomials"==this.data.Type.value)return this.getOutput()+" = np.polydiv("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")"}else if(3==Object.keys(this.inputs).length){if("Polynomial Fit"==this.data.Type.value)return this.getOutput()+" = np.polyfit("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[2]].getOutput()+")"}else if(1==Object.keys(this.inputs).length){if("Polynomial"==this.data.Type.value)return this.getOutput()+" = np.poly1d("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";if("Roots"==this.data.Type.value)return this.getOutput()+" = np.roots("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";if("Derivative"==this.data.Type.value)return this.getOutput()+" = np.polyder("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";if("Second Derivative"==this.data.Type.value)return this.getOutput()+" = np.polyder(np.polyder("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+"))";if("Integral"==this.data.Type.value)return this.getOutput()+" = np.polyint("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")"}return""},reload:function(){},outputs:{},inputs:{},getOutput:function(){return"PolynomialOperator"+this.id},getValue:function(){return null},output:"value"},l.GeometryOperator={...o,name:"Geometry Operator",description:"Create a geometry operator that can operate value(s)",color:"#325637",numInputs:1,numOutputs:-1,data:{Type:{type:"radio",options:["Create Point","Line Length"],value:"Integer",hidden:!1}},transpile:function(){return"Create Point"==this.data.Type.value?this.getOutput()+" = Point("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")":"Line Length"==this.data.Type.value?this.getOutput()+" = LineString("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+").length":""},reload:function(){},outputs:{},inputs:{},getOutput:function(){return"GeometryOperator"+this.id},getValue:function(){return null},output:"value"},l.SetsOperator={...o,name:"Sets Operator",description:"Create a sets operator that can operate value(s)",color:"#325637",numInputs:1,numOutputs:-1,data:{Type:{type:"radio",options:["Union","Intersection"],value:"Integer",hidden:!1}},transpile:function(){return"Union"==this.data.Type.value?this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" | "+this.inputs[Object.keys(this.inputs)[1]].getOutput():"Intersection"==this.data.Type.value?this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" & "+this.inputs[Object.keys(this.inputs)[1]].getOutput():""},reload:function(){},outputs:{},inputs:{},getOutput:function(){return"SetsOperator"+this.id},getValue:function(){return null},output:"value"},l.StatsOperator={...o,name:"Statistic Operator",description:"Create Statistic operator that can operate value(s)",color:"#6f7529",numInputs:1,numOutputs:-1,data:{Type:{type:"radio",options:["Median","Mean","Mode","Maximum","Minimum","Range","IQR","Standard Deviation","Variance","Skew"],value:"Integer",hidden:!1}},transpile:function(){return"Median"==this.data.Type.value?this.getOutput()+" = statistics.median("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")":"Mean"==this.data.Type.value?this.getOutput()+" = statistics.mean("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")":"Mode"==this.data.Type.value?this.getOutput()+" = statistics.mode("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")":"Maximum"==this.data.Type.value?this.getOutput()+" = max("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")":"Minimum"==this.data.Type.value?this.getOutput()+" = min("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")":"Range"==this.data.Type.value?this.getOutput()+" = max("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+") - min("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")":"IQR"==this.data.Type.value?this.getOutput()+" = scipy.stats.iqr("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")":"Standard Deviation"==this.data.Type.value?this.getOutput()+" = statistics.stdev("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")":"Variance"==this.data.Type.value?this.getOutput()+" = statistics.variance("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")":"Skew"==this.data.Type.value?this.getOutput()+" = scipy.stats.skew("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")":""},reload:function(){},outputs:{},inputs:{},getOutput:function(){return"StatsOperator"+this.id},getValue:function(){return null},output:"value"},l.VectorOperator={...o,name:"Vector Operator",description:"Create vector operator that can operate value(s)",color:"#7d295b",numInputs:1,numOutputs:-1,data:{Type:{type:"radio",options:["Dot Product","Cross Product","Magnitude","Unit Vector","Outer Product","Kronecker Product","Distance","Angle Between","Projection","Other Projection","Parallelogram Area","Parallelopiped Volume","Einstein Summation","Plane Normal","Orthogonalization"],value:"Integer",hidden:!1}},transpile:function(){if(2==Object.keys(this.inputs).length){if("Dot Product"==this.data.Type.value)return this.getOutput()+" = np.vdot("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Cross Product"==this.data.Type.value)return this.getOutput()+" = np.cross("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Outer Product"==this.data.Type.value)return this.getOutput()+" = np.outer("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Kronecker Product"==this.data.Type.value)return this.getOutput()+" = np.kron("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Distance"==this.data.Type.value)return this.getOutput()+" = np.linalg.norm("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" - "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Angle Between"==this.data.Type.value)return this.getOutput()+" = np.arccos(np.vdot("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+") / (np.linalg.norm("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+") * np.linalg.norm("+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")))";if("Projection"==this.data.Type.value)return this.getOutput()+" = (np.vdot("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+") / np.vdot("+this.inputs[Object.keys(this.inputs)[1]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")) * ("+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Other Projection"==this.data.Type.value)return this.getOutput()+" = (np.vdot("+this.inputs[Object.keys(this.inputs)[1]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+") / np.vdot("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")) * ("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";if("Parallelogram Area"==this.data.Type.value)return this.getOutput()+" = np.linalg.norm(np.cross("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+"))";if("Einstein Summation"==this.data.Type.value)return this.getOutput()+' = np.einsum("n,n", '+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Orthogonalization"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+" - (np.vdot("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+") / np.vdot("+this.inputs[Object.keys(this.inputs)[1]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")) * ("+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")"}if(3==Object.keys(this.inputs).length){if("Parallelopiped Volume"==this.data.Type.value)return this.getOutput()+" = np.linalg.norm(np.vdot("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , np.cross("+this.inputs[Object.keys(this.inputs)[1]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[2]].getOutput()+")))";if("Plane Normal"==this.data.Type.value)return this.getOutput()+" = np.cross(np.subtract("+this.inputs[Object.keys(this.inputs)[1]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+") , np.subtract("+this.inputs[Object.keys(this.inputs)[2]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+"))"}if(1==Object.keys(this.inputs).length){if("Magnitude"==this.data.Type.value)return this.getOutput()+" = np.linalg.norm("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";if("Unit Vector"==this.data.Type.value)return this.getOutput()+" = "+this.inputs[Object.keys(this.inputs)[0]].getOutput()+"/np.linalg.norm("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")"}return""},reload:function(){},outputs:{},inputs:{},getOutput:function(){return"VectorOperator"+this.id},getValue:function(){return null},output:"value"},l.MatrixOperator={...o,name:"Matrix Operator",description:"Create Matrix operator that can operate value(s)",color:"#39297d",numInputs:1,numOutputs:-1,data:{Type:{type:"radio",options:["Dot Product","Cross Product","Matrix Power","Kronecker Product","Hadamard Product","Cholesky Decomposition","Determinant","Eigenvalues","Normal","Condition","Rank","Trace","Inverse","Diagonal","Transpose","Einstein Summation","Gradient","Orthonormal Basis","Solve for Ax = B","Subspace Angle","SVD","QR"],value:"Integer",hidden:!1}},transpile:function(){if(Object.keys(this.inputs).length>1){if("Dot Product"==this.data.Type.value)return this.getOutput()+" = np.dot("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Cross Product"==this.data.Type.value)return this.getOutput()+" = np.cross("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Matrix Power"==this.data.Type.value)return this.getOutput()+" = np.linalg.matrix_power("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Kronecker Product"==this.data.Type.value)return this.getOutput()+" = np.kron("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Hadamard Product"==this.data.Type.value)return this.getOutput()+" = np.multiply("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Einstein Summation"==this.data.Type.value)return this.getOutput()+' = np.einsum("mk,kn", '+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Solve for Ax = B"==this.data.Type.value)return this.getOutput()+" = scipy.linalg.solve("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")";if("Subspace Angle"==this.data.Type.value)return this.getOutput()+" = scipy.linalg.subspace_angles("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+" , "+this.inputs[Object.keys(this.inputs)[1]].getOutput()+")"}else if(1==Object.keys(this.inputs).length){if("Cholesky Decomposition"==this.data.Type.value)return this.getOutput()+" = np.linalg.cholesky("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";if("Determinant"==this.data.Type.value)return this.getOutput()+" = np.linalg.det("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";if("Eigenvalues"==this.data.Type.value)return this.getOutput()+" = np.linalg.eig("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";if("Normal"==this.data.Type.value)return this.getOutput()+" = np.linalg.norm("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";else if("Condition"==this.data.Type.value)return this.getOutput()+" = np.linalg.cond("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";else if("Rank"==this.data.Type.value)return this.getOutput()+" = np.linalg.matrix_rank("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";else if("Trace"==this.data.Type.value)return this.getOutput()+" = np.trace("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";else if("Inverse"==this.data.Type.value)return this.getOutput()+" = np.linalg.inv("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";else if("Diagonal"==this.data.Type.value)return this.getOutput()+" = np.diagonal("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";else if("Transpose"==this.data.Type.value)return this.getOutput()+" = np.transpose("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";else if("Gradient"==this.data.Type.value)return this.getOutput()+" = np.gradient("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";else if("Orthonormal Basis"==this.data.Type.value)return this.getOutput()+" = scipy.linalg.orth("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";else if("SVD"==this.data.Type.value)return this.getOutput()+" = np.linalg.svd("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")";else if("QR"==this.data.Type.value)return this.getOutput()+" = np.linalg.qr("+this.inputs[Object.keys(this.inputs)[0]].getOutput()+")"}return""},reload:function(){},outputs:{},inputs:{},getOutput:function(){return"VectorOperator"+this.id},getValue:function(){return null},output:"value"},l.Library={...o,name:"Library",description:"Install a library from pip",color:"#403e9c",priority:1,numInputs:0,numOutputs:-1,data:{UseVersion:{type:"checkbox",value:"False",hidden:!1},Library:{type:"text",value:"",hidden:!1},Version:{type:"text",value:"",hidden:!0}},transpile:function(){return this.data.Version.value?"%pip install ".concat(this.data.Library.value,"==").concat(this.data.Version.value):"%pip install ".concat(this.data.Library.value)},reload:function(){"True"==this.data.UseVersion.value?this.data.Version.hidden=!1:this.data.Version.hidden=!0},outputs:{},inputs:{},getOutput:function(){return this.output+this.id},getValue:function(){return null},output:"library"},l.Import={...o,name:"Import",description:"Import a library or module",color:"#7f538c",priority:2,numInputs:1,numOutputs:-1,data:{from:{type:"text",value:""},import:{type:"text",value:""},as:{type:"text",value:""}},transpile:function(){var t="";return(this.data.from.value&&(t+="from ".concat(this.data.from.value," ")),this.data.as.value)?t+"import ".concat(this.data.import.value," as ").concat(this.data.as.value):t+"import ".concat(this.data.import.value)},reload:function(){},outputs:{},inputs:{},getOutput:function(){return this.output+this.id},getValue:function(){return null},output:"import"},l.Array={...o,name:"Array",color:"#0c7fc4",numInputs:-1,numOutputs:-1,description:"Use Values as inputs to create an array of values",data:{Sort:{type:"sort",value:[],hidden:!1},Data:{type:"text",value:"text",readonly:!0,hidden:!1}},transpile:function(){this.reload();let t=[];var e=this.data.Sort.value.map(e=>(t.push(e.value),e.id));return this.data.Data.value="[".concat(t.join(", "),"]"),"".concat(this.getOutput()," = [").concat(e.join(", "),"]")},reload:function(){if(Object.keys(this.inputs).length>this.data.Sort.value.length){var t=[],e=Object.keys(this.inputs);t=this.data.Sort.value;for(var i=0;i<e.length;i++)0==t.filter(t=>t.id==this.inputs[e[i]].getOutput()).length&&t.push({id:this.inputs[e[i]].getOutput(),value:null!=this.inputs[e[i]].getValue?this.inputs[e[i]].getValue():this.inputs[e[i]].getOutput(),realId:e[i]});this.data.Sort.value=t}else if(Object.keys(this.inputs).length<this.data.Sort.value.length){for(var n=[],e=Object.keys(this.inputs),i=0;i<this.data.Sort.value.length;i++)e.filter(t=>this.inputs[t].getOutput()==this.data.Sort.value[i].id).length>0&&n.push(this.data.Sort.value[i]);this.data.Sort.value=n}for(var i=0;i<this.data.Sort.value.length;i++)this.inputs[this.data.Sort.value[i].realId].getValue()?this.data.Sort.value[i].value=this.inputs[this.data.Sort.value[i].realId].getValue():this.data.Sort.value[i].value=this.inputs[this.data.Sort.value[i].realId].getOutput(),this.data.Sort.value[i].id=this.inputs[this.data.Sort.value[i].realId].getOutput();0==this.data.Sort.value.length?this.data.Sort.hidden=!0:this.data.Sort.hidden=!1},getOutput:function(){return"array"+this.id},getValue:function(){return this.data.Data.value},inputs:{},outputs:{}},l.LinkedList={...o,name:"Linked List",color:"#0c7fc4",numInputs:-1,numOutputs:-1,description:"Use Values as inputs to create an linked list of values",data:{Sort:{type:"sort",value:[],hidden:!1},Data:{type:"text",value:"text",readonly:!0,hidden:!1}},transpile:function(){this.reload();var t="".concat(this.getOutput()," = collections.deque()\n");let e=[];return this.data.Sort.value.map(i=>(e.push(i.value),t+="".concat(this.getOutput(),".append(").concat(i.id,")\n"),i.id)),this.data.Data.value="[".concat(e.join(", "),"]"),t},reload:function(){if(Object.keys(this.inputs).length>this.data.Sort.value.length){var t=[],e=Object.keys(this.inputs);t=this.data.Sort.value;for(var i=0;i<e.length;i++)0==t.filter(t=>t.id==this.inputs[e[i]].getOutput()).length&&t.push({id:this.inputs[e[i]].getOutput(),value:null!=this.inputs[e[i]].getValue?this.inputs[e[i]].getValue():this.inputs[e[i]].getOutput(),realId:e[i]});this.data.Sort.value=t}else if(Object.keys(this.inputs).length<this.data.Sort.value.length){for(var n=[],e=Object.keys(this.inputs),i=0;i<this.data.Sort.value.length;i++)e.filter(t=>this.inputs[t].getOutput()==this.data.Sort.value[i].id).length>0&&n.push(this.data.Sort.value[i]);this.data.Sort.value=n}for(var i=0;i<this.data.Sort.value.length;i++)this.inputs[this.data.Sort.value[i].realId].getValue()?this.data.Sort.value[i].value=this.inputs[this.data.Sort.value[i].realId].getValue():this.data.Sort.value[i].value=this.inputs[this.data.Sort.value[i].realId].getOutput(),this.data.Sort.value[i].id=this.inputs[this.data.Sort.value[i].realId].getOutput();0==this.data.Sort.value.length?this.data.Sort.hidden=!0:this.data.Sort.hidden=!1},getOutput:function(){return"ll"+this.id},getValue:function(){return this.data.Data.value},inputs:{},outputs:{}},l.Vector={...o,name:"Vector",color:"#29697d",numInputs:-1,numOutputs:1,description:"Use Values as inputs to create a vector of values",data:{Sort:{type:"sort",value:[],hidden:!1},Data:{type:"text",value:"text",readonly:!0,hidden:!1}},transpile:function(){this.reload();let t=[];var e=this.data.Sort.value.map(e=>(t.push(e.value),e.id));return this.data.Data.value="[".concat(t.join(", "),"]"),"".concat(this.getOutput()," = np.array([").concat(e.join(", "),"])")},reload:function(){if(Object.keys(this.inputs).length>this.data.Sort.value.length){var t=[],e=Object.keys(this.inputs);t=this.data.Sort.value;for(var i=0;i<e.length;i++)0==t.filter(t=>t.id==this.inputs[e[i]].getOutput()).length&&t.push({id:this.inputs[e[i]].getOutput(),value:null!=this.inputs[e[i]].getValue?this.inputs[e[i]].getValue():this.inputs[e[i]].getOutput(),realId:e[i]});this.data.Sort.value=t}else if(Object.keys(this.inputs).length<this.data.Sort.value.length){for(var n=[],e=Object.keys(this.inputs),i=0;i<this.data.Sort.value.length;i++)e.filter(t=>this.inputs[t].getOutput()==this.data.Sort.value[i].id).length>0&&n.push(this.data.Sort.value[i]);this.data.Sort.value=n}for(var i=0;i<this.data.Sort.value.length;i++)this.inputs[this.data.Sort.value[i].realId].getValue()?this.data.Sort.value[i].value=this.inputs[this.data.Sort.value[i].realId].getValue():this.data.Sort.value[i].value=this.inputs[this.data.Sort.value[i].realId].getOutput(),this.data.Sort.value[i].id=this.inputs[this.data.Sort.value[i].realId].getOutput();0==this.data.Sort.value.length?this.data.Sort.hidden=!0:this.data.Sort.hidden=!1},getOutput:function(){return"array"+this.id},getValue:function(){return this.data.Data.value},inputs:{},outputs:{}},l.Matrix={...o,name:"Matrix",color:"#57297d",numInputs:0,numOutputs:1,description:"Use Values as inputs to create a matrix of values",data:{Rows:{type:"slider",value:2,min:1,max:4},Cols:{type:"slider",value:2,min:1,max:4},Matrix:{type:"matrix",value:[[0,0],[0,0]],hidden:!1},Data:{type:"text",value:"[[0, 0], [0, 0]]",readonly:!0,hidden:!1}},transpile:function(){var t=[],e=this.data.Matrix.value.map(e=>"["+e.map(e=>(t.push(e),e)).join(", ")+"]");return"".concat(this.getOutput()," = np.array([").concat(e.join(", "),"])")},reload:function(){for(var t=[],e=0;e<this.data.Rows.value;e++){for(var i=[],n=0;n<this.data.Cols.value;n++)this.data.Matrix.value[e]&&this.data.Matrix.value[e][n]?i.push(this.data.Matrix.value[e][n]):i.push(0);t.push(i)}this.data.Matrix.value=t,this.data.Data.value=JSON.stringify(t)},getOutput:function(){return"matrix"+this.id},getValue:function(){return this.data.Data.value},inputs:{},outputs:{}},l.Print={...o,name:"Print",description:"Print a value to the console",color:"#4db074",numInputs:1,numOutputs:0,data:{Output:{type:"text",value:"",readonly:!1,hidden:!1}},transpile:function(){if(!(Object.keys(this.inputs).length>0))return this.data.Output.readonly=!1,'print("'.concat(this.data.Output.value,'")');var t=Object.keys(this.inputs).map((t,e)=>this.inputs[t].getValue()?this.inputs[t].getValue():this.inputs[t].getOutput()?this.inputs[t].getOutput():void 0);t=t.filter(t=>null!=t),this.data.Output.value=t.join(", "),this.data.Output.readonly=!0;var e=Object.keys(this.inputs).map((t,e)=>this.inputs[t].getOutput());return e=e.filter(t=>null!=t),"print(".concat(e.join(", "),")")},reload:function(){},getOutput:function(){return this.output+this.id},getValue:function(){return null},output:"print"},l.Connector={...o,name:"Connector",description:"Connects multiple components together to help manage the flow of the notebook. It can also connect to blocks that don't have any inputs.",color:"#424651",numInputs:-1,numOutputs:-1,data:{},transpile:function(){return""},reload:function(){},outputs:{},inputs:{},getOutput:function(){return null},getValue:function(){return null},output:"connector"},l.CustomCode={...o,name:"Custom Code",description:"Write custom code!",color:"#ba501e",numInputs:0,numOutputs:-1,bot:!0,data:{Type:{type:"radio",options:["Snippet","Function","Class"],value:"Snippet",hidden:!1},Parameters:{type:"slider",value:3,min:0,max:10,hidden:!0},Code:{type:"text",value:'# This is a code snippet!\nprint("Hello World!")\nfor i in range(0,4):\n	print(i)',multiline:!0,rows:5,hidden:!1}},transpile:function(){for(var t="",e=0;e<this.data.Parameters.value;e++)e<26?t+=String.fromCharCode(97+e)+", ":t+="param"+(e-25)+", ";if(t=t.slice(0,-2),"Snippet"==this.data.Type.value)return this.data.Code.value;if("Function"==this.data.Type.value){var i="def ".concat(this.output+this.id,"(").concat(t,"):\n"),n=this.data.Code.value.split("\n"),s=n.map(t=>"	"+t);return i+s.join("\n")}if("Class"==this.data.Type.value){var i="class ".concat(this.getOutput(),":\n"),u="	def __init__(self, ".concat(t,"):\n		# this is the constructor!\n"),n=this.data.Code.value.split("\n"),s=n.map(t=>"	"+t);return i+u+s.join("\n")}},reload:function(){"Snippet"==this.data.Type.value?this.data.Parameters.hidden=!0:"Function"==this.data.Type.value?this.data.Parameters.hidden=!1:"Class"==this.data.Type.value&&(this.data.Parameters.hidden=!0)},outputs:{},inputs:{},helpers:{},priority:3,getOutput:function(){return"Class"==this.data.Type.value||"Function"==this.data.Type.value?this.output+this.id+"()":this.output+this.id},getHelp:function(){if("Function"==this.data.Type.value){for(var t=this.output+this.id+"(",e=")",i=[],n=0;n<this.data.Parameters.value;n++)i.push("null"),i.push(", ");return i.pop(),[t].concat(i).concat([e])}if("Class"!=this.data.Type.value)return[this.output+this.id];for(var t=this.output+this.id+"(",e=")",i=[],n=0;n<this.data.Parameters.value;n++)i.push("null"),i.push(", ");return i.pop(),[t].concat(i).concat([e])},output:"custom"},l.Helper={...o,name:"Helper",description:"A helper component to help manage the flow of the notebook",color:"#cfa021",numInputs:1,numOutputs:1,top:!0,bot:!0,data:{Sort:{type:"sort",value:[],hidden:!1},Help:{type:"text",value:"",readonly:!0,hidden:!1}},transpile:function(){if(Object.keys(this.inputs).length>this.data.Sort.value.length){var t=[],e=Object.keys(this.inputs);t=this.data.Sort.value;for(var i=0;i<e.length;i++)0==t.filter(t=>t.id==this.inputs[e[i]].getOutput()).length&&t.push({id:this.inputs[e[i]].getOutput(),value:null!=this.inputs[e[i]].getValue?this.inputs[e[i]].getValue():this.inputs[e[i]].getOutput(),realId:e[i]});this.data.Sort.value=t}else if(Object.keys(this.inputs).length<this.data.Sort.value.length){for(var n=[],e=Object.keys(this.inputs),i=0;i<this.data.Sort.value.length;i++)e.filter(t=>this.inputs[t].getOutput()==this.data.Sort.value[i].id).length>0&&n.push(this.data.Sort.value[i]);this.data.Sort.value=n}for(var i=0;i<this.data.Sort.value.length;i++)this.inputs[this.data.Sort.value[i].realId].getValue()?this.data.Sort.value[i].value=this.inputs[this.data.Sort.value[i].realId].getValue():this.data.Sort.value[i].value=this.inputs[this.data.Sort.value[i].realId].getOutput(),this.data.Sort.value[i].id=this.inputs[this.data.Sort.value[i].realId].getOutput();0==this.data.Sort.value.length?this.data.Sort.hidden=!0:this.data.Sort.hidden=!1;let s=[],u=[];if(this.data.Sort.value.map(t=>{s.push(t.id),u.push(t.value)}),Object.keys(this.helpers).length>0){var a=this.helpers[Object.keys(this.helpers)[0]],o=a.getHelp()||[],l=a.getHelp()||[];if(null==o)return'print("Helper")';for(var i=0;i<s.length;i++){var r=o.indexOf("null");r>-1&&(o[r]=s[i],l[r]=u[i])}return this.data.Help.value=l.join(""),this.getOutput()+" = "+o.join("")}return'print("Helper")'},reload:function(){return this.transpile()},getHelp:function(){if(Object.keys(this.helpers).length>0)return this.helpers[Object.keys(this.helpers)[0]].getHelp()},outputs:{},inputs:{},helpers:{},topInputs:{},getOutput:function(){return this.output+this.id},getValue:function(){return this.data.Help.value},output:"helper"},l.IndexAt={...o,name:"IndexAt",description:"Get the item in an array at a specific index",color:"#bda1cc",numInputs:1,numOutputs:1,output:"index",data:{Index:{type:"slider",value:0,min:0,max:100,hidden:!1,step:1},Data:{type:"text",value:"text",readonly:!0,hidden:!1}},transpile:function(){this.reload();let t=[];var e=Object.keys(this.inputs).map((e,i)=>(this.inputs[e].getValue()&&t.push(this.inputs[e].getValue()),this.inputs[e].getOutput())),i=0;if(t.length>0){var n=t[0];n.includes("[")&&n.includes("]")?(i=(n=n.replace("[","").replace("]","")).split(",").length,this.data.Index.max=i-1,this.data.Index.value<i&&(this.data.Data.value=n.split(",")[this.data.Index.value])):(this.data.Index.max=10,this.data.Data.value="".concat(e[0],"[").concat(this.data.Index.value,"]"))}else this.data.Data.value="".concat(e[0],"[").concat(this.data.Index.value,"]");return"".concat(this.getOutput()," = ").concat(e[0],"[").concat(this.data.Index.value,"]")},reload:function(){Object.keys(this.inputs).length>0?this.data.Index.hidden=!1:this.data.Index.hidden=!0},getOutput:function(){return this.output+this.id},getValue:function(){return null}},l.MatplotTest={...o,name:"Matplot Test",description:"Test Matplotlib",color:"#bda1cc",numInputs:0,numOutputs:0,output:"matplot",data:{Data:{type:"text",value:"text",readonly:!0,hidden:!1}},transpile:function(){return'import matplotlib.cm as cm\n  import io\n  import base64\n  import js\n  \n  from matplotlib import pyplot as plt\n  delta = 0.025\n  x = y = np.arange(-3.0, 3.0, delta)\n  X, Y = np.meshgrid(x, y)\n  Z1 = np.exp(-(X**2) - Y**2)\n  Z2 = np.exp(-((X - 1) ** 2) - (Y - 1) ** 2)\n  Z = (Z1 - Z2) * 2\n  plt.figure()\n  plt.imshow(\n  Z,\n  interpolation="bilinear",\n  cmap=cm.RdYlGn,\n  origin="lower",\n  extent=[-3, 3, -3, 3],\n  vmax=abs(Z).max(),\n  vmin=-abs(Z).max(),\n  )\n  plt.show()'},getOutput:function(){return this.output+this.id},getValue:function(){return this.data.Data.value},reload:function(){}},Object.keys(l).forEach(t=>{l[t].key=t});class d{draw(t){var e,i;this.dragging?t.fillStyle=this.dragColor:t.fillStyle=this.color,t.beginPath(),t.moveTo(this.x+20,this.y),t.lineTo(this.x+this.w-20,this.y),t.quadraticCurveTo(this.x+this.w,this.y,this.x+this.w,this.y+20),t.lineTo(this.x+this.w,this.y+this.h-20),t.quadraticCurveTo(this.x+this.w,this.y+this.h,this.x+this.w-20,this.y+this.h),t.lineTo(this.x+20,this.y+this.h),t.quadraticCurveTo(this.x,this.y+this.h,this.x,this.y+this.h-20),t.lineTo(this.x,this.y+20),t.quadraticCurveTo(this.x,this.y,this.x+20,this.y),t.fill(),this.dragging?t.fillStyle=this.color:t.fillStyle="#fff",(null===(e=this.component)||void 0===e?void 0:e.numOutputs)!=0&&t.fillRect(this.x+this.w-10,this.y+this.h/2-10,20,20),(null===(i=this.component)||void 0===i?void 0:i.numInputs)!=0&&t.fillRect(this.x-10,this.y+this.h/2-10,20,20),this.bot&&t.fillRect(this.x+this.w/2-10,this.y+this.h-10,20,20),this.top&&t.fillRect(this.x+this.w/2-10,this.y-10,20,20),this.dragging?t.fillStyle="#000":t.fillStyle="#fff",t.font="25px Arial",t.textAlign="center",t.fillText(this.text,this.x+this.w/2,this.y+this.h/2+(this.dragging?0:8)),this.dragging?(t.fillStyle="#000",t.font="18px Arial",t.textAlign="center",t.fillText(this.component.id+"",this.x+this.w/2,this.y+this.h/2+20)):t.fillStyle="#fff"}drawLines(t){for(var e=0;e<this.elements.length;e++){var i=this.getElements()[this.elements[e]];if(null==i){this.elements.splice(e,1);continue}var n=i.x,s=i.y+i.h/2,u=Math.sqrt((this.x+this.w-n)**2+(this.y+this.h/2-s)**2),a=0;if(this.x+this.w>n&&(a=50,u*=1.5,this.y+this.h/2<s&&(a*=-1)),n>=0&&s>=0){this.selectedLine!=this.elements[e]?t.strokeStyle="#fff":t.strokeStyle=this.color,t.lineWidth=4,t.lineCap="round",t.lineJoin="round",t.beginPath(),t.moveTo(this.x+this.w,this.y+this.h/2),t.bezierCurveTo(this.x+this.w+u/600*200,this.y+this.h/2-a,n-u/600*200,s+a,n,s),t.stroke();var o=(this.x+this.w+n)/2,l=(this.y+this.h/2+s)/2,r=7.5;this.selectedLine==this.elements[e]?t.fillStyle=this.color:t.fillStyle="#fff",t.beginPath(),t.arc(o,l,r,0,2*Math.PI),t.fill()}}if(!this.liningBot&&this.lineToX>=0&&this.lineToY>=0&&(t.strokeStyle="#fff",t.lineWidth=4,t.lineCap="round",t.lineJoin="round",t.beginPath(),t.moveTo(this.x+this.w,this.y+this.h/2),t.bezierCurveTo(this.x+this.w+200,this.y+this.h/2,this.lineToX-200,this.lineToY,this.lineToX,this.lineToY),t.stroke()),this.bot&&this.liningBot&&this.lineToX>=0&&this.lineToY>=0){t.strokeStyle="#fff",t.lineWidth=4,t.lineCap="round",t.lineJoin="round",t.beginPath(),t.moveTo(this.x+this.w/2,this.y+this.h),t.bezierCurveTo(this.x+this.w/2,this.y+this.h+200,this.lineToX,this.lineToY-200,this.lineToX,this.lineToY),t.stroke();var o=(this.x+this.w/2+this.lineToX)/2,l=(this.y+this.h+this.lineToY)/2,r=7.5;this.liningBot?t.fillStyle=this.color:t.fillStyle="#fff",t.beginPath(),t.arc(o,l,r,0,2*Math.PI),t.fill()}for(var e=0;e<this.botElements.length;e++){var i=this.getElements()[this.botElements[e]];if(null==i){this.botElements.splice(e,1);continue}var n=i.x+i.w/2,s=i.y,u=Math.sqrt((this.x+this.w-n)**2+(this.y+this.h/2-s)**2),p=0;if(this.y+this.h/2>s&&(p=50,u*=1.5,this.x+this.w/2<n&&(p*=-1)),n>=0&&s>=0){this.selectedLine!=this.botElements[e]?t.strokeStyle="#fff":t.strokeStyle=this.color,t.lineWidth=4,t.lineCap="round",t.lineJoin="round",t.beginPath(),t.moveTo(this.x+this.w/2,this.y+this.h),t.bezierCurveTo(this.x+this.w/2-p,this.y+this.h+u/500*200,n+p,s-u/500*200,n,s),t.stroke();var o=(this.x+this.w/2+n)/2,l=(this.y+this.h+s)/2,r=7.5;this.selectedLine==this.botElements[e]?t.fillStyle=this.color:t.fillStyle="#fff",t.beginPath(),t.arc(o,l,r,0,2*Math.PI),t.fill()}}}isDragging(t,e){return t>=this.x&&t<=this.x+this.w&&e>=this.y&&e<=this.y+this.h}isLineEnd(t,e){var i;let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(!!n||(null===(i=this.component)||void 0===i?void 0:i.numInputs)!=0)&&t>=this.x&&t<=this.x+this.w&&e>=this.y&&e<=this.y+this.h}isLining(t,e){var i;return(this.liningBot=!1,this.bot&&t>=this.x+this.w/2-15&&t<=this.x+this.w/2+25&&e>=this.y+this.h-15&&e<=this.y+this.h+25)?(this.liningBot=!0,!0):(null===(i=this.component)||void 0===i?void 0:i.numOutputs)!=0&&t>=this.x+this.w-15&&t<=this.x+this.w+25&&e>=this.y+this.h/2-15&&e<=this.y+this.h/2+25}isLineSelected(t,e){if(this.botElements.length>0)for(var i=0;i<this.botElements.length;i++){var n=this.getElements()[this.botElements[i]],s=n.x+n.w/2,u=n.y,a=(this.x+this.w/2+s)/2,o=(this.y+this.h+u)/2,l=20;if(t>=a-20&&t<=a+l&&e>=o-l&&e<=o+l)return this.selectedLine=this.botElements[i],this.selectedBot=this.botElements[i],!0}if(0==this.elements.length)return!1;for(var i=0;i<this.elements.length;i++){var n=this.getElements()[this.elements[i]],s=n.x,u=n.y+n.h/2,a=(this.x+this.w+s)/2,o=(this.y+this.h/2+u)/2,l=20;if(t>=a-20&&t<=a+l&&e>=o-l&&e<=o+l)return this.selectedLine=this.elements[i],!0}return!1}isInBounds(t,e,i,n){var s,u=-1;return t>i&&(s=t,t=i,i=s),e>n&&(u=e,e=n,n=u),this.x>=t&&this.x<=i&&this.y>=e&&this.y<=n||this.x+this.w>=t&&this.x+this.w<=i&&this.y>=e&&this.y<=n||this.x>=t&&this.x<=i&&this.y+this.h>=e&&this.y+this.h<=n||this.x+this.w>=t&&this.x+this.w<=i&&this.y+this.h>=e&&this.y+this.h<=n}move(t,e){this.x+=t,this.y+=e}moveTo(t,e){this.x=t-this.w/2,this.y=e-this.h/2}lineTo(t,e){this.lineToX=t,this.lineToY=e}fixLines(){for(var t,e,i=0;i<this.elements.length;i++){if(null==this.getElements()[this.elements[i]]){this.elements.splice(i,1);continue}this.component.outputs[this.elements[i]]=this.getElements()[this.elements[i]].component,this.getElements()[this.elements[i]].component.inputs[null===(t=this.component)||void 0===t?void 0:t.id]=this.component}for(var i=0;i<this.botElements.length;i++){if(null==this.getElements()[this.botElements[i]]){this.botElements.splice(i,1);continue}this.component.topInputs[this.botElements[i]]=this.getElements()[this.botElements[i]].component,this.getElements()[this.botElements[i]].component.helpers[null===(e=this.component)||void 0===e?void 0:e.id]=this.component}this.lineToX=-1,this.lineToY=-1}findSelf(t){if(null==t)return!1;if((null===(e=this.component)||void 0===e?void 0:e.id)+""==t.id+"")return!0;var e,i=!1;return Object.keys(t.outputs).forEach(e=>{this.findSelf(t.outputs[e])&&(i=!0)}),!!i}lineToElement(t){if(t==this.id||(null!==(s=null===(e=this.component)||void 0===e?void 0:e.id)&&void 0!==s?s:"-1")in Object.keys(null!==(u=null===(i=this.getElements()[t].component)||void 0===i?void 0:i.outputs)&&void 0!==u?u:{}))return this.lineToX=-1,this.lineToY=-1,!1;if(this.bot&&this.liningBot)return this.getElements()[t].top&&!this.botElements.includes(t)?(this.botLineX=-1,this.botLineY=-1,this.lineToX=-1,this.lineToY=-1,this.botElements.push(t),this.getElements()[t].component.helpers[t]=this.component,this.component.topInputs[t]=this.getElements()[t].component,!0):(this.lineToX=-1,this.lineToY=-1,!1);var e,i,n,s,u,a=this.getElements()[t].component;return this.findSelf(a)?(this.lineToX=-1,this.lineToY=-1,!1):(this.elements.push(t),this.component.outputs[t]=this.getElements()[t].component,this.getElements()[t].component.inputs[null===(n=this.component)||void 0===n?void 0:n.id]=this.component,!0)}removeElement(){for(var t,e,i,n,s=0;s<this.elements.length;s++)delete this.getElements()[this.elements[s]].component.inputs[null===(t=this.component)||void 0===t?void 0:t.id],null===(e=this.component)||void 0===e||delete e.outputs[this.elements[s]];for(var s=0;s<this.botElements.length;s++)delete this.getElements()[this.botElements[s]].component.helpers[null===(i=this.component)||void 0===i?void 0:i.id],null===(n=this.component)||void 0===n||delete n.topInputs[this.botElements[s]]}deleteSelf(){var t,e,i,n,s,u,a=null===(t=this.component)||void 0===t?void 0:t.inputs,o=null===(e=this.component)||void 0===e?void 0:e.outputs,l=null===(i=this.component)||void 0===i?void 0:i.topInputs,r=null===(n=this.component)||void 0===n?void 0:n.helpers;Object.keys(a).forEach(t=>{var e;null!=this.getElements()[t]&&null!=this.getElements()[t].elements&&(this.getElements()[t].elements=this.getElements()[t].elements.filter(t=>{var e;return t!==(null===(e=this.component)||void 0===e?void 0:e.id)}),delete a[t].outputs[null===(e=this.component)||void 0===e?void 0:e.id])}),Object.keys(o).forEach(t=>{var e;delete o[t].inputs[null===(e=this.component)||void 0===e?void 0:e.id]}),Object.keys(l).forEach(t=>{var e;null!=this.getElements()[t]&&null!=this.getElements()[t].botElements&&(this.getElements()[t].botElements=this.getElements()[t].botElements.filter(t=>{var e;return t!==(null===(e=this.component)||void 0===e?void 0:e.id)}),delete l[t].helpers[null===(e=this.component)||void 0===e?void 0:e.id])}),Object.keys(r).forEach(t=>{var e;delete r[t].topInputs[null===(e=this.component)||void 0===e?void 0:e.id]});for(var p=0;p<this.botElements.length;p++)delete this.getElements()[this.botElements[p]].component.helpers[null===(s=this.component)||void 0===s?void 0:s.id],null===(u=this.component)||void 0===u||delete u.topInputs[this.botElements[p]]}disconnectOutput(){var t,e,i,n;if(this.selectedBot){this.botLineX=-1,this.botLineY=-1,this.botElements=this.botElements.filter(t=>t!==this.selectedBot),delete this.getElements()[this.selectedBot].component.helpers[null===(t=this.component)||void 0===t?void 0:t.id],null===(e=this.component)||void 0===e||delete e.topInputs[this.selectedBot],this.selectedBot=null;return}this.elements.length>0&&(delete this.getElements()[this.selectedLine].component.inputs[null===(i=this.component)||void 0===i?void 0:i.id],null===(n=this.component)||void 0===n||delete n.outputs[this.selectedLine],this.elements=this.elements.filter(t=>t!==this.selectedLine),this.lineToX=-1,this.lineToY=-1,this.selectedLine=null)}getNext(){var t,e=Object.keys(null===(t=this.component)||void 0===t?void 0:t.outputs);if(0==e.length)return null;var i=Math.floor(Math.random()*e.length);return e[i]}getPrev(){var t,e=Object.keys(null===(t=this.component)||void 0===t?void 0:t.inputs);if(0==e.length)return null;var i=Math.floor(Math.random()*e.length);return e[i]}getBot(){var t,e=Object.keys(null===(t=this.component)||void 0===t?void 0:t.topInputs);if(0==e.length)return null;var i=Math.floor(Math.random()*e.length);return e[i]}getTop(){var t,e=Object.keys(null===(t=this.component)||void 0===t?void 0:t.helpers);if(0==e.length)return null;var i=Math.floor(Math.random()*e.length);return e[i]}toJSON(){let t=h(this);return t.component.inputs={},t.component.outputs={},t.component.helpers={},t.component.topInputs={},t}fromJSON(t){Object.assign(this,t)}constructor(t=0,e=0,i=100,n=100,s=h(o),u={}){var a,l,r,p;this.lining=!1,this.x=t-i/2,this.y=e-n/2,this.w=i,this.h=n,this.lineToX=-1,this.lineToY=-1,this.lines={},this.elements=[],this.dragging=!1,this.color=(null==s?void 0:s.color)||"#ff0000",this.dragColor="#fff",this.component=s||h(o),this.text=(null===(a=this.component)||void 0===a?void 0:a.name)||"Component",this.id=null===(l=this.component)||void 0===l?void 0:l.id,this.selectedLine=null,this.selectedBot=null,this.top=(null===(r=this.component)||void 0===r?void 0:r.top)||!1,this.bot=(null===(p=this.component)||void 0===p?void 0:p.bot)||!1,this.lineBotX=-1,this.lineBotY=-1,this.liningBot=!1,this.botElements=[],this.getElements=()=>u(),this.botLineX=-1,this.botLineY=-1,this.text.length>5&&(this.w=Math.max(25*this.text.length,this.w))}}new d(0,0,200,100,o);let c=(0,s.createContext)({elements:{},setElements:()=>{},selectedElement:null,setSelectedElement:()=>{},notebookCells:[],setNotebookCells:()=>{},statuses:{},setStatuses:()=>{}}),g=Object.freeze({x:0,y:0});function v(t,e){return{x:t.x-e.x,y:t.y-e.y}}function f(t,e){return{x:t.x+e.x,y:t.y+e.y}}var m=null;function y(t){var e;let{maxScale:i=3,minScale:u=.5,...a}=t,{updateNotebook:o}=p(),{saveElements:y,loadElements:O}=r(),{elements:x,setElements:b,selectedElement:j,setSelectedElement:k}=s.useContext(c);function T(){return x}let S=(0,s.useRef)(null),w=(0,s.useRef)(null),[E,I]=(0,s.useState)(null),[C,L]=(0,s.useState)(1),[N,P]=(0,s.useState)(g),[V,D]=(0,s.useState)(g),[R,M]=(0,s.useState)(g),F=(0,s.useRef)(!1),B=(0,s.useRef)(g),Y=(0,s.useRef)(g),[A,X]=(0,s.useState)(window.devicePixelRatio||1),[H,_]=(0,s.useState)({x:0,y:0}),[J,W]=s.useState(!1),[z,G]=s.useState(!1),[U,Z]=s.useState(!1),[q,K]=s.useState(null),[Q,$]=s.useState(!1),[tt,te]=s.useState({}),[ti,tn]=s.useState(null),[ts,tu]=s.useState([]);(0,s.useEffect)(()=>{Y.current=N},[N]);let ta=t=>{let e={x:(t.clientX-S.current.offsetLeft)/C+R.x,y:(t.clientY-S.current.offsetTop)/C+R.y};for(var i in x)if(x[i].isLining(e.x,e.y))return x[i];return null},to=t=>{let e={x:(t.clientX-S.current.offsetLeft)/C+R.x,y:(t.clientY-S.current.offsetTop)/C+R.y};for(var i in x)if(x[i].isLineEnd(e.x,e.y))return x[i];return null},tl=t=>{let e={x:(t.clientX-S.current.offsetLeft)/C+R.x,y:(t.clientY-S.current.offsetTop)/C+R.y};for(var i in x)if(x[i].isDragging(e.x,e.y))return x[i];return null},tr=t=>{let e={x:(t.clientX-S.current.offsetLeft)/C+R.x,y:(t.clientY-S.current.offsetTop)/C+R.y};for(var i in x)if(x[i].isLineSelected(e.x,e.y))return x[i];return null},tp=(0,s.useCallback)(t=>{if(t&&!F.current){let e=JSON.parse(localStorage.getItem("viewportTopLeft")||JSON.stringify(g)),i=JSON.parse(localStorage.getItem("scale")||"1");console.log("reset",e,i),t.canvas.width=a.canvasWidth*A,t.canvas.height=a.canvasHeight*A,t.scale(A*i,A*i),L(i),I(t),P(g),D(g),t.translate(-e.x,-e.y),M(e),Y.current=g,B.current=g,F.current=!0,tw()}},[a.canvasWidth,a.canvasHeight]),th=(0,s.useCallback)(t=>{if(E){let e=B.current,i={x:t.pageX,y:t.pageY};B.current=i;let n=v(i,e);P(t=>f(t,n))}},[E]),td=(0,s.useCallback)(t=>{if(E&&j){let e={x:(t.clientX-S.current.offsetLeft)/C+R.x,y:(t.clientY-S.current.offsetTop)/C+R.y},i=v(e,{x:B.current.x,y:B.current.y});B.current={x:e.x,y:e.y},j.move(i.x,i.y),tw()}},[C,R,j,B]),tc=(0,s.useCallback)(t=>{if(E&&ts&&ts.length>0){let e={x:(t.clientX-S.current.offsetLeft)/C+R.x,y:(t.clientY-S.current.offsetTop)/C+R.y},i=v(e,{x:B.current.x,y:B.current.y});B.current={x:e.x,y:e.y},ts.forEach(t=>{t.move(i.x,i.y)}),tw()}},[C,R,ts,ti]),tg=(0,s.useCallback)(t=>{if(E&&j){let e={x:(t.clientX-S.current.offsetLeft)/C+R.x,y:(t.clientY-S.current.offsetTop)/C+R.y};j.lineTo(e.x,e.y),tw()}},[C,R,j]),tv=(0,s.useCallback)(t=>{if(E){let e={x:(t.clientX-S.current.offsetLeft)/C+R.x,y:(t.clientY-S.current.offsetTop)/C+R.y};tu(Object.values(x).filter(t=>{let i=t.isInBounds(B.current.x,B.current.y,e.x,e.y);return i?t.dragging=!0:t.dragging=!1,i})),o(),tn(t=>t?{x1:t.x1,y1:t.y1,x2:e.x,y2:e.y}:t)}},[ti,C,R,x,ts]),tf=(0,s.useCallback)(t=>{if(E){let e={x:(t.clientX-S.current.offsetLeft)/C+R.x,y:(t.clientY-S.current.offsetTop)/C+R.y};tu(Object.values(x).filter(t=>{let i=t.isInBounds(B.current.x,B.current.y,e.x,e.y);return i?t.dragging=!0:t.dragging=!1,i})),o(),tn(null)}document.removeEventListener("mousemove",tv),document.removeEventListener("mouseup",tf)},[ti,tv,ts]),tm=(0,s.useCallback)(t=>{if(E&&j){if(m){clearTimeout(m),W(!1),document.removeEventListener("mousemove",td),document.removeEventListener("mouseup",tm);return}j.lining=!1,W(!1),Z(!1),console.log("drop element"),o()}document.removeEventListener("mousemove",td),document.removeEventListener("mouseup",tm)},[th,td,j,B,S]),ty=(0,s.useCallback)(t=>{E&&ts&&(ts.forEach(t=>{t.dragging=!1}),W(!1),G(!1),console.log("drop elements"),o()),document.removeEventListener("mousemove",tc),document.removeEventListener("mouseup",ty)},[th,tc,ts]),tO=(0,s.useCallback)(t=>{if(E&&j){let e=to(t);e&&j.lineToElement(e.id),j.lineTo(-1,-1),tw(),W(!1),Z(!1),o()}document.removeEventListener("mousemove",tg),document.removeEventListener("mouseup",tO)},[th,tg,j]),tx=(0,s.useCallback)(()=>{document.removeEventListener("mousemove",th),document.removeEventListener("mouseup",tx)},[th,td,j]);(0,s.useEffect)(()=>{J?(document.addEventListener("mouseup",tm),document.addEventListener("mousemove",td)):(document.removeEventListener("mouseup",tm),document.removeEventListener("mousemove",td))},[j,J]),(0,s.useEffect)(()=>{U?(document.addEventListener("mouseup",tO),document.addEventListener("mousemove",tg)):(document.removeEventListener("mouseup",tO),document.removeEventListener("mousemove",tg))},[j,U]),(0,s.useEffect)(()=>{z?(tn(null),document.addEventListener("mouseup",ty),document.addEventListener("mousemove",tc)):(document.removeEventListener("mouseup",ty),document.removeEventListener("mousemove",tc))},[z]);let tb=(0,s.useCallback)(t=>{if(B.current={x:(t.clientX-S.current.offsetLeft)/C+R.x,y:(t.clientY-S.current.offsetTop)/C+R.y},2===t.button){t.preventDefault(),tn({x1:(t.clientX-S.current.offsetLeft)/C+R.x,y1:(t.clientY-S.current.offsetTop)/C+R.y,x2:(t.clientX-S.current.offsetLeft)/C+R.x,y2:(t.clientY-S.current.offsetTop)/C+R.y}),document.addEventListener("mouseup",tf),document.addEventListener("mousemove",tv);return}let e=tr(t);if(e){j&&(j.dragging=!1,o()),j&&e.id!=j.id&&(j.selectedLine=null),k(e),K(e),tu([]),tw();return}j&&(j.selectedLine=null),k(null);let i=ta(t);if(i){Z(!0),k(i),K(i),i.lining=!0,i.dragging=!0;return}j&&(j.lining=!1),Z(!1),k(null);let n=tl(t);if(ts.length>0){if(tn(null),n&&ts.includes(n)){ts.forEach(t=>{t.dragging=!0}),G(!0);return}ts.forEach(t=>{t.dragging=!1}),G(!1),tu([]),k(null),K(null),tw()}if(n){j&&(j.dragging=!1,j.selectedLine=null),m=setTimeout(()=>{clearTimeout(m=null)},200),W(!0),n.dragging=!0,k(n),K(n),tw(),o();return}j&&(j.dragging=!1,o()),W(!1),k(null),K(null),document.addEventListener("mouseup",tx),document.addEventListener("mousemove",th),B.current={x:t.pageX,y:t.pageY}},[th,td,tm,tx,C,R,j,tv,tf,ti,ts]);(0,s.useLayoutEffect)(()=>{if(S.current){let t=S.current.getContext("2d");t&&tp(t)}},[tp,a.canvasHeight,a.canvasWidth]),(0,s.useLayoutEffect)(()=>{if(E&&Y.current){var t;let e={x:(t=v(N,Y.current)).x/C,y:t.y/C};R.x<=0&&e.x>=0&&(e.x=R.x),R.y<=0&&e.y>=0&&(e.y=R.y),R.x>=a.canvasWidth-w.current.getBoundingClientRect().width/C&&e.x<=0&&(e.x=R.x-(a.canvasWidth-w.current.getBoundingClientRect().width/C)),R.y>=a.canvasHeight-w.current.getBoundingClientRect().height/C&&e.y<=0&&(e.y=R.y-(a.canvasHeight-w.current.getBoundingClientRect().height/C)),E.translate(e.x,e.y),M(t=>v(t,e)),F.current=!1,localStorage.setItem("viewportTopLeft",JSON.stringify(R)),localStorage.setItem("scale",JSON.stringify(C))}},[E,N,C,null===(e=w.current)||void 0===e?void 0:e.getBoundingClientRect().width]),(0,s.useLayoutEffect)(()=>{E&&tw()},[a.canvasWidth,a.canvasHeight,E,C,N,R,x,j,q,ti]),(0,s.useEffect)(()=>{O();let t=S.current;if(null!==t)return t.addEventListener("mousemove",e),t.addEventListener("wheel",e),()=>{t.removeEventListener("mousemove",e),t.removeEventListener("wheel",e)};function e(t){t.preventDefault(),S.current&&D(v({x:t.clientX,y:t.clientY},{x:S.current.offsetLeft,y:S.current.offsetTop}))}},[]),(0,s.useEffect)(()=>{let t=S.current;if(null!==t)return t.addEventListener("wheel",e),()=>t.removeEventListener("wheel",e);function e(t){if(t.preventDefault(),E){if(C>i&&t.deltaY<0||C<u&&t.deltaY>0)return;let e=1-t.deltaY/500,n=f(R,{x:V.x/C*(1-1/e),y:V.y/C*(1-1/e)});E.translate(R.x,R.y),E.scale(e,e),E.translate(-n.x,-n.y),M(n),L(C*e),F.current=!1,localStorage.setItem("scale",JSON.stringify(C*e))}}},[E,V.x,V.y,R,C]);let[tj,tk]=(0,s.useState)([]),tT=(0,s.useCallback)(t=>{t.preventDefault(),t.stopPropagation(),console.log("key",t.key,tj),tk(e=>e.includes(t.key)?e:[...e,t.key]),"Delete"===t.key&&(ts.length>0?(ts.forEach(t=>{t.deleteSelf(),console.log("delete",ts),console.log("elements",x),delete x[t.id]}),b(x),tu([]),k(null),o(),tw()):j&&(j.selectedLine?(j.disconnectOutput(),j.selectedLine=null):(j.deleteSelf(),delete x[j.id],console.log("delete",j.id),console.log("elements",x),b(x),k(null)),tw(),o()))},[x,b,j,k,ts,tu,ti,o,tj,tk]),tS=(0,s.useCallback)(t=>{tk(e=>e.filter(e=>e!==t.key))},[tj,tk]);function tw(){E&&(E.clearRect(0,0,E.canvas.width,E.canvas.height),function(){if(!E)return;let t=E.canvas.width,e=E.canvas.height;E.clearRect(0,0,t,e),E.fillStyle="#ffffff40";for(var i=30;i<t;i+=60)for(var n=30;n<e;n+=60)E.beginPath(),E.arc(i,n,2,0,2*Math.PI),E.fill()}(),Object.keys(x).forEach(t=>{x[t].drawLines(E)}),Object.keys(x).forEach(t=>{x[t].draw(E)}),null!=ti&&(E.strokeStyle="#fff",E.lineWidth=2,E.strokeRect(ti.x1,ti.y1,ti.x2-ti.x1,ti.y2-ti.y1),E.fillStyle="#ffffff25",E.fillRect(ti.x1,ti.y1,ti.x2-ti.x1,ti.y2-ti.y1)))}return(0,s.useEffect)(()=>{tj.includes("Control")&&(tj.includes("z")?console.log("undo"):tj.includes("y")&&console.log("redo"))},[tj]),(0,s.useEffect)(()=>{E&&(console.log("REDRAWING NEW ELEMENTS",x),Object.keys(x).forEach(t=>{x[t].getElements=T,x[t].fixLines()}),o(),tw())},[x]),(0,n.jsx)("div",{ref:w,className:"w-full h-full overflow-hidden border-none outline-none",children:(0,n.jsx)("canvas",{tabIndex:0,onDrop:function(t){t.preventDefault();let e=t.dataTransfer.getData("componentKey");if(console.log("drop",e),!l[e])return;let i=h(l[e]);i.id=function(){let t=Math.floor(1e6*Math.random());for(;x[t];)t=Math.floor(1e6*Math.random());return t}(),i.key=e;let n={x:(t.clientX-S.current.offsetLeft)/C+R.x,y:(t.clientY-S.current.offsetTop)/C+R.y};console.log("canvasPoint",n);var s=new d(n.x,n.y,150,150,i,T);x[i.id]=s,b(x),o(),tw()},onMouseDown:tb,onKeyDown:tT,onKeyUp:tS,ref:S,width:a.canvasWidth*A,height:a.canvasHeight*A,style:{width:"".concat(a.canvasWidth,"px"),height:"".concat(a.canvasHeight,"px"),border:"none",outline:"none"},onContextMenu:t=>{t.preventDefault()}})})}function O(t){let{componentKey:e,component:i}=t;function s(t){t.dataTransfer.setData("componentKey",e)}return(0,n.jsx)("div",{className:"w-max h-max flex items-center justify-center p-5 rounded-lg cursor-pointer opacity-75 hover:opacity-100 transition-opacity",style:{backgroundColor:i.color,margin:"6px"},draggable:!0,onDragStart:s,onDrag:s,onDragCapture:s,children:(0,n.jsx)("h1",{className:"text-sm",children:i.name})})}function x(){return(0,n.jsx)("div",{className:"w-full h-full flex flex-row items-start justify-start flex-wrap overflow-auto gap-0 scroll",children:(0,n.jsx)("div",{className:"h-max flex flex-row items-start justify-start flex-wrap overflow-auto gap-0 scroll",children:Object.keys(l).map((t,e)=>(l[t],(0,n.jsx)(O,{componentKey:t,component:l[t]},e)))})})}function b(){let{notebookCells:t}=(0,s.useContext)(c);return(0,n.jsx)("textarea",{readOnly:!0,autoCorrect:"off",spellCheck:"false",className:"text-gray-400 scroll p-4",style:{width:"100%",height:"100%",backgroundColor:"transparent",border:"none",fontSize:"0.8em",resize:"none"},value:'{"cells": '+JSON.stringify(t,null,4)+',"metadata": {"kernelspec": {"display_name": "Python 3","language": "python","name": "python3"},"language_info": {"codemirror_mode": {"name": "ipython","version": 3},"file_extension": ".py","mimetype": "text/x-python","name": "python","nbconvert_exporter": "python","pygments_lexer": "ipython3","version": "3.10.13"},"colab": {"provenance": []}},"nbformat": 4,"nbformat_minor": 0}'})}var j=i(53744),k=i(59578),T=i(94673),S=i(59150);i(92379);var w=i(6282),E=i(18134);T.Z.registerLanguage("python",S.Z);let I="0.25.0";function C(){let{elements:t,setElements:e,notebookCells:i,setNotebookCells:u,statuses:a,setStatuses:o}=(0,s.useContext)(c),[l,r]=(0,s.useState)({}),{pyodide:p,restartPyodide:h}=function(){let[t,e]=(0,s.useState)(null),i=(0,w.Gq)("https://cdn.jsdelivr.net/pyodide/v".concat(I,"/full/pyodide.js")),n=async()=>{let t=await globalThis.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v".concat(I,"/full/")});await t.loadPackage("micropip"),e(t)};return(0,s.useEffect)(()=>{"ready"!==i||t||n()},[i,t]),{pyodide:t,restartPyodide:n}}();(0,s.useEffect)(()=>{console.log("Pyodide",p)},[p]);let[d,g]=(0,s.useState)(0),[v,f]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let t=setInterval(()=>{if(v){if(d>=i.length){f(!1);return}let t=i[d],e=a[t.metadata.id];console.log("Checking status",e),(null==e?void 0:e.status)=="completed"?g(d+1):(null==e?void 0:e.status)=="error"?f(!1):o({...a,[t.metadata.id]:{status:"running",error:"",img:"",output:"",source:t.source.join("\n")}})}},100);return()=>{clearInterval(t)}},[v,a,i,d]),(0,n.jsxs)("div",{className:"w-full h-full flex items-center justify-center",children:[(0,n.jsxs)("div",{className:"absolute z-20 bottom-0 p-2 flex flex-row gap-1 rounded-t-lg",style:{backgroundColor:"#252526"},children:[(0,n.jsx)(j.G,{icon:k.zc,onClick:function(){o({}),g(0),f(!0)},className:(0,E.cn)("text-black bg-yellow-400 p-2 rounded-lg cursor-pointer w-4 h-4 transition-opacity",p?"":"opacity-50")}),(0,n.jsx)(j.G,{icon:k.paY,onClick:function(){h(),o({})},className:(0,E.cn)("text-black bg-red-400 p-2 rounded-lg cursor-pointer w-4 h-4 transition-opacity",p?"":"opacity-50")}),(0,n.jsx)(j.G,{icon:k.cf$,className:(0,E.cn)("text-black bg-purple-400 p-2 rounded-lg cursor-pointer w-4 h-4 transition-opacity",p?"":"opacity-50")}),(0,n.jsx)(j.G,{icon:k.EdJ,className:(0,E.cn)("text-black bg-blue-400 p-2 rounded-lg cursor-pointer w-4 h-4 transition-opacity",p?"":"opacity-50")}),(0,n.jsx)(j.G,{icon:k.q7m,className:(0,E.cn)("text-black bg-green-400 p-2 rounded-lg cursor-pointer w-4 h-4 transition-opacity",p?"":"opacity-50")})]}),(0,n.jsxs)("div",{className:"relative w-full h-full overflow-auto pb-6 flex flex-col justify-start items-center scroll",children:[0==i.length?(0,n.jsxs)("div",{className:"w-full h-full flex flex-col p-16 text-center justify-center items-center",children:[(0,n.jsx)("p",{className:"text-xl",children:"No Cells to Display"}),(0,n.jsx)("p",{className:"text-gray-400",children:"Drag and drop a block from the blocks tab to create an executable python cell"})]}):null,i.map((t,e)=>(0,n.jsx)(L,{pyodide:p,cell:t,index:e},t.metadata.id))]})]})}function L(t){var e,i,u,a,o,l,r,p,h;let{pyodide:d,cell:g,index:v}=t,{statuses:f,setStatuses:m,notebookCells:y}=(0,s.useContext)(c),O=(0,s.useRef)(null),x=(0,s.useRef)(null),b=(0,s.useRef)(null),[S,w]=(0,s.useState)(g.source.join("\n"));function E(){m({...f,[g.metadata.id]:{status:"running",error:"",img:"",output:"",source:g.source.join("\n")}})}async function I(){if(console.log("Running cell",g),!d){console.error("Pyodide not loaded");return}try{let i=[];for(var t=g.source.join("\n");-1!=t.indexOf("%pip install");){var e=t.split("%pip install")[1];e=e.split("\n")[0];let i=d.pyimport("micropip");await i.install(e),t=(t=t.replace("%pip install"+e+"\n","")).replace("%pip install"+e,""),console.log("downloading "+e,t)}d.setStdout({batched:t=>{"<end>"==t?(console.log("End of output"),m({...f,[g.metadata.id]:{status:"completed",error:"",img:"",output:i.join("\n"),source:g.source.join("\n")}})):(console.log("Output",t),i.push(t))}}),d.setStderr({batched:t=>{m({...f,[g.metadata.id]:{status:"error",img:"",error:t,output:i.join("\n"),source:g.source.join("\n")}})}}),d.runPython(t+"\nprint('<end>')")}catch(t){m({...f,[g.metadata.id]:{status:"error",img:"",error:t.toString(),output:"",source:g.source.join("\n")}}),console.error("Error running cell",t)}}return(0,s.useEffect)(()=>{var t,e,i,n,s;w(g.source.join("\n")),console.log("Setting source",g.source.join("\n"),null===(t=f[g.metadata.id])||void 0===t?void 0:t.status,null===(e=f[g.metadata.id])||void 0===e?void 0:e.output),m({...f,[g.metadata.id]:{status:"",error:(null===(i=f[g.metadata.id])||void 0===i?void 0:i.error)||"",img:(null===(n=f[g.metadata.id])||void 0===n?void 0:n.img)||"",output:(null===(s=f[g.metadata.id])||void 0===s?void 0:s.output)||"",source:g.source.join("\n")}})},[g.source.join("\n")]),(0,s.useEffect)(()=>{console.log("highlighting code"),console.log(g.source.join("\n")),O.current.innerHTML=g.source.join("\n"),O.current.attributes.getNamedItem("data-highlighted")&&O.current.attributes.removeNamedItem("data-highlighted"),T.Z.highlightElement(O.current)},[S]),(0,s.useEffect)(()=>{var t,e;(null===(t=f[g.metadata.id])||void 0===t?void 0:t.status)=="running"&&(I(),null===(e=O.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"center"}))},[null===(e=f[g.metadata.id])||void 0===e?void 0:e.status]),(0,s.useEffect)(()=>{if(g.metadata.selected){var t;console.log("Scrolling to cell"),null===(t=O.current)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"center"})}},[g.metadata.selected]),(0,s.useEffect)(()=>{g.metadata.run&&E()},[g.metadata.run]),(0,n.jsxs)("div",{className:"w-full rounded-md shadow-md transition-colors p-4",style:{backgroundColor:g.metadata.selected?"#f7800010":"transparent"},children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between w-full",children:[(0,n.jsxs)("div",{className:"flex flex-row items-center",children:[(0,n.jsx)(j.G,{icon:k.zc,className:"text-gray-500 mr-2 cursor-pointer",onClick:E}),(0,n.jsxs)("span",{className:"text-sm text-gray-500",children:["[",v+1,"]:"]}),(null===(i=f[g.metadata.id])||void 0===i?void 0:i.status)=="running"?(0,n.jsx)(j.G,{icon:k.LM3,className:"animate-spin text-blue-500 ml-2"}):null,(null===(u=f[g.metadata.id])||void 0===u?void 0:u.status)=="completed"?(0,n.jsx)(j.G,{icon:k.LEp,className:"text-green-500 ml-2"}):null,(null===(a=f[g.metadata.id])||void 0===a?void 0:a.status)=="error"?(0,n.jsx)(j.G,{icon:k.EOp,className:"text-red-500 ml-2"}):null]}),(0,n.jsx)("div",{children:(0,n.jsx)("span",{className:"text-sm text-gray-500",children:g.metadata.id})})]}),(0,n.jsx)("div",{className:"flex items-center"})]}),(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)("pre",{ref:O,className:"python p-4 text-sm w-full overflow-auto scroll rounded-sm",children:S}),(null===(o=f[g.metadata.id])||void 0===o?void 0:o.output)&&(null===(l=f[g.metadata.id])||void 0===l?void 0:l.output)!=""?(0,n.jsx)("pre",{ref:x,className:"p-4 bg-[#181818] text-sm w-full overflow-auto scroll rounded-sm",children:null===(r=f[g.metadata.id])||void 0===r?void 0:r.output}):null,(null===(p=f[g.metadata.id])||void 0===p?void 0:p.status)=="error"?(0,n.jsx)("pre",{ref:b,className:"p-4 bg-[#181818] text-sm w-full overflow-auto scroll rounded-sm text-red-500",children:null===(h=f[g.metadata.id])||void 0===h?void 0:h.error}):null]})]})}var N=i(21885),P=i(53358),V=i(22763),D=i(77632),R=i(73451);function M(){let{selectedElement:t,setSelectedElement:e}=(0,s.useContext)(c),{updateNotebook:i}=p(),[u,a]=(0,s.useState)(null==t?void 0:t.component.data),[o,l]=(0,s.useState)(null==t?void 0:t.component);function r(t,e){var n=u[e];n.value=t,o.data[e]=n,o.reload(),i(),a({...u,[e]:n})}return((0,s.useEffect)(()=>{a(null==t?void 0:t.component.data),l(null==t?void 0:t.component)},[t]),null===t)?(0,n.jsxs)("div",{className:"w-full h-full flex flex-col p-8 text-center justify-center items-center",children:[(0,n.jsx)("p",{className:"text-xl",children:"Nothing selected"}),(0,n.jsx)("p",{className:"text-gray-400",children:"Create and select an element to edit its properties"})]}):(0,n.jsxs)("div",{className:"w-full h-full overflow-auto scroll gap-4 flex flex-col p-4",style:{boxShadow:"none"},children:[(0,n.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,n.jsx)("p",{className:"text-2xl",children:null==o?void 0:o.name}),(0,n.jsx)("p",{className:"text-gray-600",children:null==o?void 0:o.id})]}),(0,n.jsx)("p",{className:"text-gray-400",children:null==o?void 0:o.description}),(0,n.jsx)("div",{className:"flex flex-col gap-5",children:Object.keys(null!=u?u:{}).map(t=>{if(u[t].hidden)return(0,n.jsx)(n.Fragment,{});switch(u[t].type){case"matrix":return(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("p",{children:t}),(0,n.jsx)("div",{className:"flex flex-row gap-2",children:u[t].value.map((e,i)=>(0,n.jsx)("div",{className:"flex flex-col gap-2 w-full",children:e.map((e,s)=>(0,n.jsx)("div",{className:"flex flex-row gap-2 w-full",children:(0,n.jsx)(N.Y,{className:"w-full",defaultValue:e,onChange:e=>{if(""===e.target.value)return;if(isNaN(Number(e.target.value))){console.log("Invalid number"),e.target.value=u[t].value[i][s];return}let n=Number(e.target.value);u[t].value[i][s]=n,r(u[t].value,t)},size:"sm",label:i+","+s,isDisabled:u[t].readonly})},s))},i))})]});case"sort":return(0,n.jsx)(n.Fragment,{});case"radio":return(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("p",{children:t}),(0,n.jsx)(P.X,{orientation:"horizontal",onChange:e=>{r(e.target.value,t)},value:u[t].value,children:u[t].options.map(t=>(0,n.jsx)(V.J,{value:t,children:t},t))})]});case"checkbox":return(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("p",{children:t}),(0,n.jsxs)("div",{className:"flex flex-row items-center",children:[(0,n.jsx)(D.i,{checked:u[t].value,onChange:e=>{r(e.target.checked?"True":"False",t)}}),(0,n.jsx)("p",{children:u[t].value?"Enabled":"Disabled"})]})]});case"slider":return(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("p",{children:t}),(0,n.jsxs)("div",{className:"flex flex-row justify-between gap-4 items-center",children:[(0,n.jsx)(N.Y,{className:"w-24",value:u[t].value,onChange:e=>{r(e.target.value,t)}}),(0,n.jsx)(R.L,{className:"overflow-hidden",minValue:u[t].min,maxValue:u[t].max,step:u[t].step,value:u[t].value,fillOffset:0,size:"sm",onChange:e=>{r(e,t)}})]})]});default:return(0,n.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,n.jsx)("p",{children:t}),(0,n.jsx)("div",{children:(0,n.jsx)(N.Y,{value:u[t].value,onChange:e=>{r(e.target.value,t)},size:"md",label:t,isDisabled:u[t].readonly})})]})}})})]})}let F=t=>{let e=t.api;return t.containerApi,(0,n.jsx)("div",{className:"w-full h-full flex flex-row justify-center items-center px-5 scroll",children:(0,n.jsx)("p",{children:e.id})})},B={default:F,FloatingTabRenderer:t=>{let e=t.api,i=t.containerApi;return(0,n.jsx)("div",{className:"w-full h-full flex flex-row justify-center items-center px-5 scroll",children:(0,n.jsxs)("p",{children:[e.id,(0,n.jsx)(j.G,{icon:k.wlW,className:"text-gray-300 ml-2 cursor-pointer opacity-50 hover:opacity-100",onClick:function(t){if(console.log("makeFloating",e.id),"floating"===e.location.type)return;let n=i.addGroup();e.moveTo({group:n}),i.addFloatingGroup(n,{width:400,height:500,x:t.clientX,y:t.clientY})}})]})})}},Y={default:t=>(0,n.jsx)("div",{style:{height:"100%",backgroundColor:t.params.color,padding:"10px"},children:(0,n.jsx)("h2",{children:"This is panel '".concat(t.api.id,"'")})}),Blocks:t=>(0,n.jsx)(x,{}),Canvas:t=>(0,n.jsx)(y,{canvasWidth:4e3,canvasHeight:4e3,maxScale:2,minScale:.4}),Raw:t=>(0,n.jsx)(b,{}),Notebook:t=>(0,n.jsx)(C,{}),Inspector:t=>(0,n.jsx)(M,{})};function A(){let t=s.useRef();return s.useEffect(()=>{let e=()=>{var e,i,n,s;let u=window.innerWidth<800;if(console.log("isMobile",u),null===(e=t.current)||void 0===e||e.layout(window.innerWidth,window.innerHeight),!u){window.localStorage.getItem("layout")&&(console.log("loading layout"),null===(s=t.current)||void 0===s||s.fromJSON(JSON.parse(window.localStorage.getItem("layout"))));return}let a=null===(i=t.current)||void 0===i?void 0:i.panels,o=null==a?void 0:a.find(t=>"Canvas"===t.id),l=null==a?void 0:a.filter(t=>"Canvas"!==t.id);console.log("nonCanvasPanels",l);let r=null===(n=t.current)||void 0===n?void 0:n.addGroup();if(r){for(let t of null!=l?l:[])t.api.moveTo({group:r});r.api.moveTo({group:null==o?void 0:o.group,position:"bottom"})}};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]),(0,n.jsx)(u.tu,{className:"dockview-theme-dark overflow-hidden scroll",components:Y,tabComponents:B,onReady:e=>{if(t.current=e.api,e.api.layout(window.innerWidth,window.innerHeight),e.api.onDidLayoutChange(()=>{window.innerWidth<800||(console.log("layout changed"),window.localStorage.setItem("layout",JSON.stringify(e.api.toJSON())))}),window.localStorage.getItem("layout")){console.log("loading layout"),e.api.fromJSON(JSON.parse(window.localStorage.getItem("layout")));return}let i=e.api.addPanel({id:"Canvas",component:"Canvas",params:{color:"gray"}});i.group.header.hidden=!0,i.group.locked=!0;let n=e.api.addPanel({id:"Blocks",component:"Blocks",params:{color:"red"},position:{referencePanel:"Canvas",direction:"right"}});e.api.addPanel({id:"Inspector",component:"Inspector",params:{color:"red"},tabComponent:"FloatingTabRenderer"}),n.focus(),e.api.addPanel({id:"Raw",component:"Raw",params:{color:"red"},position:{referencePanel:"Blocks",direction:"below"}}),e.api.addPanel({id:"Notebook",component:"Notebook",params:{color:"red"}})},defaultTabComponent:F})}function X(t){let{children:e}=t,[i,u]=(0,s.useState)({}),[a,o]=(0,s.useState)(null),[l,r]=(0,s.useState)([]),[p,h]=(0,s.useState)({});return(0,n.jsx)(c.Provider,{value:{elements:i,setElements:u,selectedElement:a,setSelectedElement:o,notebookCells:l,setNotebookCells:r,statuses:p,setStatuses:h},children:e})}let H=(0,s.createContext)({currentElements:{},setCurrentElements:()=>{}});function _(t){let{children:e}=t,[i,u]=(0,s.useState)({}),{elements:a,setElements:o}=(0,s.useContext)(c);return(0,n.jsx)(H.Provider,{value:{currentElements:i,setCurrentElements:u},children:e})}function J(){return(0,n.jsx)("div",{className:"w-full h-dvh flex items-center justify-center",children:(0,n.jsx)(X,{children:(0,n.jsx)(_,{children:(0,n.jsx)(A,{})})})})}}},function(t){t.O(0,[319,377,287,764,170,842,744],function(){return t(t.s=30900)}),_N_E=t.O()}]);